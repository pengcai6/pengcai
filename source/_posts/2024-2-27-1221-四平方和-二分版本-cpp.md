---
title: 2024-2-27-1221-四平方和-二分版本.cpp
author: cai6
abbrlink: 56176
date: 2024-02-27 21:31:11
tags: [算法]
---
# 2024-2-27-1221-四平方和-二分版本.cpp



```
#include<cstdio>
#include<algorithm>
#include<cstring>
#include<iostream>
using namespace std;
const int N=2500010;
struct sum{
    int s,c,d;
    bool operator< (const sum &t)const
    {
        if(s!=t.s)return s<t.s;
        if(s!=t.c)return c<t.c;
        return d<t.s;
    }
}sum[N];
int n,m;
int q[N];
int main()    //二分版本
{
cin>>n;
for(int c=0;c*c<=n;c++)
    for(int d=c;c*c+d*d<=n;d++)
        sum[m++]={c*c+d*d,c,d};
sort(sum,sum+m);
    for(int a=0;a*a<=n;a++)
        for(int b=a;b*b+a*a<=n;b++)
        {
            int t=n-a*a-b*b;
            int l=0,r=m;
            while(r>l)
            {int mid=(r+l)>>1;
                if(sum[mid].s>=t)
                    r=mid;
                else l=mid+1;

            }
            if(sum[l].s==t)
            {
                printf("%d %d %d %d\n",a,b,sum[l].c,sum[l].d);
                return 0;
            }
        }
     return 0;
}



```